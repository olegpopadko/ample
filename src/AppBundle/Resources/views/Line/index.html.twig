{% extends '::base.html.twig' %}

{% block body -%}
    <h1>Line list</h1>

    <nav class="navbar navbar-default" role="navigation">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle"
                    data-toggle="collapse" data-target=".navbar-search-collapse">
                <span class="sr-only">Toggle settings</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>

        <div class="collapse navbar-collapse navbar-search-collapse">
            {{ form_start(per_page_form, { 'style': 'navbar-form navbar-right' }) }}
            {{ form_label(per_page_form.perPage) }}
            {{ form_widget(per_page_form.perPage, {'attr': {'onchange': 'this.form.submit()'}}) }}
            {{ form_end(per_page_form) }}
        </div>
    </nav>


    <table class="table records_list">
        <thead>
        <tr>
            <th>{{ knp_pagination_sortable(pagination, 'Created At', 'l.createdAt') }}<span class="glyphicon glyphicon-sort"></span></th>
            <th>Content</th>
        </tr>
        </thead>
        <tbody>
        {% for entity in pagination %}
            <tr>
                <td>{% if entity.createdAt %}{{ entity.createdAt|date('Y-m-d H:i:s') }}{% endif %}</td>
                <td>{{ entity.content }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <div class="navigation">
        {{ knp_pagination_render(pagination, "", {}, { "prev_label": "Previous", "next_label": "Next", "first_label": "First", "last_label": "Last"}) }}
    </div>
{% endblock %}
